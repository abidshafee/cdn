<?xml version="1.0" encoding="UTF-8" ?>
<b:template xmlns:b="http://www.google.com/2005/gml/b">
  <!--
    ForgeDaily Mirror Blogger Theme
    Artifact 1: XML Template File
    Author: Shafekul Abid
    Version: 1.0
    Instructions:
      - Upload this file as your Blogger theme.
      - Place the CSS and JS files (Artifacts 2 & 3) at the specified URLs below.
      - Customize branding, widgets, and ad codes as needed.
  -->
  <b:include data='blog' name='all-head-content'/>
  <head>
    <meta charset="UTF-8"/>
    <meta content='width=device-width, initial-scale=1' name='viewport'/>
    <title><data:blog.pageTitle/></title>
    <meta name="description" expr:content='data:blog.metaDescription'/>
    <meta name="author" content="ForgeDaily Mirror"/>
    <link rel="canonical" expr:href='data:blog.canonicalUrl'/>
    <!-- Open Graph -->
    <meta property="og:title" expr:content='data:blog.pageTitle'/>
    <meta property="og:description" expr:content='data:blog.metaDescription'/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" expr:content='data:blog.canonicalUrl'/>
    <meta property="og:image" expr:content='data:blog.postImageUrl'/>
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:title" expr:content='data:blog.pageTitle'/>
    <meta name="twitter:description" expr:content='data:blog.metaDescription'/>
    <meta name="twitter:image" expr:content='data:blog.postImageUrl'/>
    <!-- Schema Markup (JSON-LD) -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": <b:eval expr='data:blog.title.jsString' />,
        "url": <b:eval expr='data:blog.homepageUrl.jsString' />,
        "logo": "https://cdn.jsdelivr.net/gh/abidshafee/cdn@main/forgedaily-logo.png"
      }
    </script>
    <!-- Article Schema for Blog Posts -->
    <b:if cond='data:blog.pageType == &quot;item&quot;'>
      <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "Article",
          "headline": <b:eval expr='data:post.title.jsString' />,
          "description": <b:eval expr='data:post.snippet.jsString' />,
          "image": <b:eval expr='data:post.firstImageUrl.jsString' />,
          "author": {
            "@type": "Person",
            "name": <b:eval expr='data:post.author.jsString' />,
            "url": <b:eval expr='data:post.authorProfileUrl.jsString' />
          },
          "datePublished": <b:eval expr='data:post.timestampISO8601.jsString' />,
          "publisher": {
            "@type": "Organization",
            "name": <b:eval expr='data:blog.title.jsString' />,
            "logo": {
              "@type": "ImageObject",
              "url": "https://cdn.jsdelivr.net/gh/abidshafee/cdn@main/forgedaily-logo.png"
            }
          }
        }
      </script>
    </b:if>
    <!-- Review Schema for Review Posts (add a label 'Review' to trigger) -->
    <b:if cond='data:blog.pageType == &quot;item&quot; and data:post.labels any (l => l.name == &quot;Review&quot;)'>
      <b:with value='data:post.body.css(&quot;div.review-data&quot;).first' var='reviewData'>
      <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "Review",
          "itemReviewed": {
            "@type": "Product",
            "name": <b:eval expr='data:post.title.jsString' />,
            "image": <b:eval expr='data:post.firstImageUrl.jsString' />
          },
          "author": {
            "@type": "Person",
            "name": <b:eval expr='data:post.author.jsString' />
          },
          "reviewRating": {
            "@type": "Rating",
            "ratingValue": <b:eval expr='($reviewData ? $reviewData.data(&quot;rating&quot;) : &quot;4.5&quot;).json' />,
            "bestRating": <b:eval expr='($reviewData ? $reviewData.data(&quot;best&quot;) : &quot;5&quot;).json' />
          },
          "reviewBody": <b:eval expr='data:post.snippet.jsString' />
        }
      </script>
      </b:with>
    </b:if>
    <!-- FAQ Schema for FAQ Pages (add a label 'FAQ' to trigger) -->
    <b:if cond='data:blog.pageType == &quot;item&quot; and data:post.labels any (l => l.name == &quot;FAQ&quot;)'>
      <script type="application/ld+json">
        { // To use this, structure your post with <div class='faq-item'><h3 class='faq-question'>...</h3><div class='faq-answer'>...</div></div>
          "@context": "https://schema.org",
          "@type": "FAQPage",
          "mainEntity": [
            <b:loop values='data:post.body.css(&quot;div.faq-item&quot;)' var='faq'>
              {
                "@type": "Question",
                "name": <b:eval expr='faq.css(&quot;.faq-question&quot;).first.escaped.jsString' />,
                "acceptedAnswer": {
                  "@type": "Answer",
                  "text": <b:eval expr='faq.css(&quot;.faq-answer&quot;).first.escaped.jsString' />
                }
              }<b:if cond='!data:faq.isLast'>,</b:if>
            </b:loop>
          ]
        }
      </script>
    </b:if>
    <!-- External CSS (Artifact 2) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/abidshafee/cdn@latest/forgedaily-mirror.css"/>
    <!-- External JS (Artifact 3) -->
    <script src="https://cdn.jsdelivr.net/gh/abidshafee/cdn@latest/forgedaily-mirror.js"></script>
    <!-- Critical CSS for above-the-fold (optional, for performance) -->
    <style>
      /* Insert critical CSS here for faster rendering */
    </style>
  </head>
  <body expr:class='&quot;page-type-&quot; + data:blog.pageType'>
    <!-- Sticky Social Sharing Sidebar (Desktop) -->
    <aside id="sticky-social-sidebar" aria-label="Sticky social sharing sidebar">
      <ul>
        <li><a href="#" class="sidebar-share" data-platform="facebook" aria-label="Share on Facebook" title="Share on Facebook">
          <svg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'><path d='M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.14H6v4.44h3.5v12h4.44v-12h3.81l.47-4.44z'/></svg>
        </a></li>
        <li><a href="#" class="sidebar-share" data-platform="twitter" aria-label="Share on Twitter" title="Share on Twitter">
          <svg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'><path d='M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.223.085a4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z'/></svg>
        </a></li>
        <li><a href="#" class="sidebar-share" data-platform="linkedin" aria-label="Share on LinkedIn" title="Share on LinkedIn">
          <svg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'><path d='M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.225 0z'/></svg>
        </a></li>
      </ul>
    </aside>
    <!-- Header with Logo and Navigation -->
    <header id="site-header">
      <div class="container header-flex">
        <a expr:href='data:blog.homepageUrl' class="logo" expr:title='data:blog.title'>
          <img src="https://cdn.jsdelivr.net/gh/abidshafee/cdn@main/forgedaily-logo.png" expr:alt='data:blog.title + &quot; Logo&quot;'/>
        </a>
        <nav id="main-nav" role="navigation" aria-label="Main navigation">
          <ul class="nav-list">
            <li><a href="/search/label/Tech%20Reviews">Tech Reviews</a>
              <ul class="dropdown">
                <li><a href="/search/label/Smartphones">Smartphones</a></li>
                <li><a href="/search/label/Laptops">Laptops</a></li>
                <li><a href="/search/label/Gadgets">Gadgets</a></li>
                <li><a href="/search/label/Software">Software</a></li>
              </ul>
            </li>
            <li><a href="/search/label/Finance">Finance</a>
              <ul class="dropdown">
                <li><a href="/search/label/Investing">Investing</a></li>
                <li><a href="/search/label/Personal%20Finance">Personal Finance</a></li>
                <li><a href="/search/label/Market%20Analysis">Market Analysis</a></li>
                <li><a href="/search/label/Crypto">Crypto</a></li>
              </ul>
            </li>
            <li><a href="/search/label/Productivity">Productivity</a>
              <ul class="dropdown">
                <li><a href="/search/label/Tools">Tools</a></li>
                <li><a href="/search/label/Habits">Habits</a></li>
                <li><a href="/search/label/Workflow">Workflow</a></li>
                <li><a href="/search/label/Time%20Management">Time Management</a></li>
              </ul>
            </li>
            <li><a href="/p/about.html">About</a></li>
            <li><a href="/p/contact.html">Contact</a></li>
          </ul>
        </nav>
        <button id="mobile-menu-toggle" aria-label="Open Menu">â˜°</button>
        <!-- Dark Mode Toggle Button -->
        <button id="dark-mode-toggle" aria-label="Toggle dark mode" aria-pressed="false" title="Toggle dark mode">ðŸŒ™</button>
      </div>
      <!-- AdSense Header Banner -->
      <div class="ad-zone header-ad">
        <!-- Insert AdSense code here -->
      </div>
    </header>
    <!-- Breadcrumbs (SEO) -->
    <nav class="breadcrumbs" itemscope='itemscope' itemtype='http://schema.org/BreadcrumbList' aria-label="Breadcrumb">
      <b:section id="breadcrumbs" class="breadcrumbs-section"/>
    </nav>
    <!-- Main Content Area -->
    <main id="main-content" role="main">
      <div class="container main-flex">
        <!-- Sidebar Widgets -->
        <aside id="sidebar" role="complementary">
          <b:section id="sidebar-widgets" class="sidebar-widgets"/>
          <!-- AdSense Sidebar Rectangle -->
          <div class="ad-zone sidebar-ad">
            <!-- Insert AdSense code here -->
          </div>
        </aside>
        <!-- Blog Posts -->
        <section id="blog-posts" aria-label="Blog posts">
          <!-- Post Timestamps for JS -->
          <b:if cond='data:blog.pageType == &quot;item&quot;'>
            <div id='post-timestamps' style='display:none;'
                 expr:data-published='data:post.timestampISO8601'
                 expr:data-updated='data:post.lastUpdatedISO8601'/>
          </b:if>
          <!-- Table of Contents Placeholder -->
          <b:if cond='data:blog.pageType == &quot;item&quot;'>
            <div id='toc-container' style='display:none;'>
              <p class='toc-title'>Table of Contents</p>
              <ul id='toc-list'/>
            </div>
          </b:if>
          <b:section id="main-widgets" class="main-widgets"/>
          <!-- In-Content Ad Zone -->
          <div class="ad-zone in-content-ad">
            <!-- Insert AdSense code here -->
          </div>
        </section>
      </div>
    </main>
    <!-- Author Bio Section (with schema) -->
    <b:if cond='data:blog.pageType == &quot;item&quot;'>
      <section id="author-bio" itemscope='itemscope' itemtype='http://schema.org/Person'>
        <b:if cond='data:post.author.authorPhoto.url'>
          <img expr:src='data:post.author.authorPhoto.url' expr:alt='data:post.author + &quot; Photo&quot;' itemprop='image'/>
        </b:if>
        <div>
          <span itemprop='name'><data:post.author/></span>
          <b:if cond='data:post.author.aboutMe'><span itemprop='description'><data:post.author.aboutMe/></span></b:if>
          <a expr:href='data:post.authorProfileUrl' itemprop='url' rel='author'>Read more</a>
        </div>
      </section>
    </b:if>
    <!-- Related Posts Section -->
    <b:if cond='data:blog.pageType == &quot;item&quot; and data:post.labels'>
      <section id='related-posts-container' aria-label='Related Posts'>
        <div class='container'>
          <h2 class='related-posts-title'>Related Posts</h2>
          <div id='related-posts' class='loading-placeholder'/>
        </div>
      </section>
    </b:if>
    <!-- Comments Section -->
    <section id="comments" aria-label="Comments">
      <b:section id="comments-widgets" class="comments-widgets"/>
    </section>
    <!-- Social Sharing Buttons -->
    <section id="social-sharing" aria-label="Social sharing">
      <button class="share-btn" data-platform="facebook">Share on Facebook</button>
      <button class="share-btn" data-platform="twitter">Share on Twitter</button>
      <button class="share-btn" data-platform="linkedin">Share on LinkedIn</button>
    </section>
    <!-- Newsletter Signup (Email) -->
    <section id="newsletter-signup" aria-label="Newsletter signup">
      <form id="email-signup-form">
        <label for="email">Subscribe to our newsletter:</label>
        <input type="email" id="email" name="email" required='required' placeholder="Enter your email"/>
        <button type="submit">Subscribe</button>
      </form>
    </section>
    <!-- GDPR Cookie Consent Banner -->
    <div id='cookie-consent-banner' role='dialog' aria-live='polite' aria-label='Cookie consent'>
      <div class='cookie-banner-content'>
        <p>This site uses cookies to enhance user experience and analyze traffic. By clicking "Accept," you agree to our use of cookies. <a href='/p/privacy-policy.html'>Learn more</a>.</p>
        <button id='accept-cookies'>Accept</button>
      </div>
    </div>
    <!-- Footer -->
    <footer id="site-footer" aria-label="Footer">
      <div class="container footer-flex">
        <div class="footer-branding">
          <img src="https://cdn.jsdelivr.net/gh/abidshafee/cdn@main/forgedaily-logo.png" expr:alt='data:blog.title + &quot; Logo&quot;'/>
          <span>Â© <data:blog.year/> <data:blog.title/>. All rights reserved.</span>
        </div>
        <div class="footer-links">
          <a href="/p/privacy-policy.html">Privacy Policy</a>
          <a href="/p/disclaimer.html">Disclaimer</a>
          <a href="/p/contact.html">Contact</a>
        </div>
        <!-- Footer Ad Zone -->
        <div class="ad-zone footer-ad">
          <!-- Insert AdSense code here -->
        </div>
      </div>
    </footer>
    <!-- Blogger Widgets (for posts, comments, etc.) -->
    <b:section id="footer-widgets" class="footer-widgets"/>
    <!-- Scripts -->
    <b:section id="body-end"/>
    <!-- GDPR Cookie Consent Fallback for No-JS -->
    <noscript>
      <div id="cookie-consent-banner">
        <div class="cookie-banner-content">
          This site uses cookies to personalize content and ads. By using this site, you agree to our <a href="/p/privacy-policy.html" target="_blank">Privacy Policy</a>.
        </div>
      </div>
    </noscript>
    <!-- Back to Top Button -->
    <button id="back-to-top" aria-label="Back to top">â†‘</button>
    <!-- Table of Contents Generator Script -->
    <b:if cond='data:blog.pageType == &quot;item&quot;'>
      <script>
      //<![CDATA[
      document.addEventListener('DOMContentLoaded', function() {
        const tocContainer = document.getElementById('toc-container');
        const tocList = document.getElementById('toc-list');
        const postBody = document.querySelector('.post-body'); // Standard Blogger post container

        if (!tocContainer || !tocList || !postBody) {
          return; // Exit if essential elements are not found
        }

        // Find all h2 and h3 headings within the post body
        const headings = postBody.querySelectorAll('h2, h3');
        let headingCount = 0;

        headings.forEach((heading, index) => {
          if (!heading.textContent.trim()) return; // Skip empty headings

          const id = 'toc-heading-' + index;
          heading.id = id;

          const listItem = document.createElement('li');
          listItem.className = 'toc-level-' + heading.tagName.toLowerCase(); // For styling h2 vs h3
          const link = document.createElement('a');
          link.href = '#' + id;
          link.textContent = heading.textContent.trim();
          listItem.appendChild(link);
          tocList.appendChild(listItem);
          headingCount++;
        });

        // If headings were found, make the TOC visible
        if (headingCount > 0) {
          tocContainer.style.display = 'block';
        }
      });
      //]]>
      </script>
    </b:if>
    <!-- Related Posts Script -->
    <b:if cond='data:blog.pageType == &quot;item&quot; and data:post.labels'>
      <script>
      //<![CDATA[
      (function() {
        const relatedPostsContainer = document.getElementById('related-posts');
        if (!relatedPostsContainer) return;

        const firstLabel = '<b:eval expr="data:post.labels.first.name.jsString"/>';
        const currentPostUrl = '<b:eval expr="data:post.url.jsString"/>';
        const maxResults = 4; // Number of related posts to show

        if (!firstLabel) return;

        // Fetch posts from the feed of the first label
        const feedUrl = `/feeds/posts/default/-/${encodeURIComponent(firstLabel)}?alt=json&max-results=${maxResults + 1}`;

        fetch(feedUrl)
          .then(response => response.json())
          .then(data => {
            const entries = data.feed.entry || [];
            let html = '';
            let count = 0;

            for (const entry of entries) {
              if (count >= maxResults) break;

              const postUrl = (entry.link.find(link => link.rel === 'alternate') || {}).href;
              if (!postUrl || postUrl === currentPostUrl) continue; // Skip current post or posts without a URL

              const postTitle = entry.title.$t;
              // Get a better quality thumbnail and provide a fallback
              const thumbnailUrl = entry.media$thumbnail ? entry.media$thumbnail.url.replace(/\/s\d+(-c)?\//, '/w400-h225-c/') : 'https://cdn.jsdelivr.net/gh/abidshafee/cdn@main/forgedaily-placeholder.png';

              html += `<div class="related-post-item">
                <a href="${postUrl}" class="related-post-thumb-link"><img class="related-post-thumb" src="${thumbnailUrl}" alt="${postTitle}" loading="lazy"/></a>
                <h3 class="related-post-title"><a href="${postUrl}">${postTitle}</a></h3>
              </div>`;
              count++;
            }

            relatedPostsContainer.innerHTML = html;
            if (!html) relatedPostsContainer.closest('#related-posts-container').style.display = 'none';
          }).catch(error => console.error('Error fetching related posts:', error));
      })();
      //]]>
      </script>
    </b:if>
    <!-- Cookie Consent Banner Script -->
    <script>
    //<![CDATA[
    (function() {
        const COOKIE_NAME = 'cookie_consent_accepted';
        const COOKIE_EXPIRATION_DAYS = 365;

        const banner = document.getElementById('cookie-consent-banner');
        const acceptBtn = document.getElementById('accept-cookies');

        if (!banner || !acceptBtn) {
            return;
        }

        function hasConsentCookie() {
            return document.cookie.split(';').some((item) => item.trim().startsWith(COOKIE_NAME + '='));
        }

        function setConsentCookie() {
            const d = new Date();
            d.setTime(d.getTime() + (COOKIE_EXPIRATION_DAYS * 24 * 60 * 60 * 1000));
            const expires = "expires=" + d.toUTCString();
            document.cookie = COOKIE_NAME + "=true;" + expires + ";path=/;SameSite=Lax";
        }

        acceptBtn.addEventListener('click', function() {
            setConsentCookie();
            banner.classList.remove('show');
        });

        if (!hasConsentCookie()) {
            setTimeout(() => { banner.classList.add('show'); }, 500);
        }
    })();
    //]]>
    </script>
  </body>
</b:template> 
